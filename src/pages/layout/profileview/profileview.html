<!--
  Generated template for the ProfileviewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content fullscreen>
  <div class="profile-banner" ion-fixed>
    <div class="profile-pic">
      <img
        [src]="profileDetails.profile_image != ''? imageBaseUrl+ profileDetails.profile_image : 'assets/imgs/no-image.png'">
    </div>
  </div>
  <div class="profile-view-body">
    <ion-card>
      <h3>Name</h3>
      <ion-item>
        {{profileDetails.name}}
      </ion-item>
    </ion-card>

    <ion-card>
      <h3>Email</h3>
      <ion-item>
        {{profileDetails.email}}
      </ion-item>
    </ion-card>

    <ion-card>
      <h3>Contact Number</h3>
      <ion-item>
        {{profileDetails.contact}}
      </ion-item>
    </ion-card>
    <div class="show-address">
        <button ion-button full (click)="showMyAddress()">Show Address </button>

        <div *ngIf="buttonClicked">
          <p class="error-msg" *ngIf="allAddressList.length==0">No address found!!!</p>
          <ion-card *ngFor="let myAddress of allAddressList; let i = index">
            <h3 style="text-align: left;">{{myAddress.type}}  <span style="float:right;"><i class="fa fa-trash delete" aria-hidden="true" (click)=deleteAddress(myAddress.id)></i></span></h3>
            <ion-item text-wrap>
             <p class="address1">{{myAddress.customer_name}}</p>  
             <p class="address2"> {{myAddress.address}} ,{{myAddress.street_no}},{{myAddress.landmark}} {{myAddress.pincode}}</p>
            </ion-item>
          </ion-card>
        </div>
    </div>

   
    <div class="add-address">
    <button ion-button full (click)="showAddAddress()">Add Address </button>
    <div *ngIf="showAddAddressForm" class="alladdress">
      <ion-card>
        <form [formGroup]="addressForm" novalidate novalidate>
          <ion-grid>
            <ion-row>
              <ion-col col-12>
                <ion-label>Type</ion-label>
                <!-- <ion-input type="text" formControlName="type" name="type" placeholder="Home/Office"
                  [ngClass]="displayFieldCss('type')"></ion-input>
                <span class="error-msg" *ngIf="isFieldValid('type')">Please enter a Type.</span> -->
                <ion-select [(ngModel)]="type" formControlName="type" class="address-type1">
                    <ion-option value="Home">Home</ion-option>
                    <ion-option value="Work">Work</ion-option>
                </ion-select>
              </ion-col>

              <ion-col col-12>
                  <ion-label>Name</ion-label>
                  <ion-input type="text" formControlName="customer_name" name="customer_name" [ngClass]="displayFieldCss('customer_name')">
                  </ion-input>
                  <span class="error-msg" *ngIf="isFieldValid('customer_name')">Please enter a Name.</span>
                </ion-col>
                

              <ion-col col-12>
                <ion-label>Building Number</ion-label>
                <ion-input type="text" formControlName="address" name="address" [ngClass]="displayFieldCss('address')">
                </ion-input>
                <span class="error-msg" *ngIf="isFieldValid('address')">Please enter a Building Number.</span>
              </ion-col>
              <ion-col col-12>
                  <ion-label>Street Name</ion-label>
                  <ion-input type="text" formControlName="street_no" name="street_no" [ngClass]="displayFieldCss('street_no')">
                  </ion-input>
                  <span class="error-msg" *ngIf="isFieldValid('street_no')">Please enter a Street Name.</span>
                </ion-col>
              <ion-col col-12>
                <ion-label>Land Mark</ion-label>
                <ion-input type="text" formControlName="landmark" name="landmark"
                  [ngClass]="displayFieldCss('landmark')"></ion-input>
                <span class="error-msg" *ngIf="isFieldValid('landmark')">Please enter a Land Mark</span>
              </ion-col>

              <ion-col col-12>
                <ion-label>Pin Code</ion-label>
                <ion-input type="text" formControlName="pincode" name="pincode" [ngClass]="displayFieldCss('pincode')">
                </ion-input>
                <span class="error-msg" *ngIf="isFieldValid('pincode')">Please enter a pin code.</span>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col col-12 style="text-align: center;">
                <button ion-button color="dark" round (click)="submitAddress()">Submit</button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
      </ion-card>
    </div>
    </div>
  </div>
</ion-content>
<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content fullscreen>
    <div class="body-section" *ngIf="customer_cart_data.length>0">
        <div class="product-banner">
            <ion-grid>
                <ion-row>
                    <ion-col col-3>
                        <div class="profile-pic-small">
                            <img *ngIf="userId !=''"
                                [src]="profileDetails.profile_image != ''? imageBaseUrl+ profileDetails.profile_image : 'assets/imgs/no-image.png'">
                        </div>
                    </ion-col>
                    <ion-col col-4>
                        <ion-list no-lines *ngIf="userId ==''">Guest</ion-list>
                        <ion-list no-lines *ngIf="userId !=''">{{profileDetails.name}}</ion-list>
                        <ion-list no-lines><small> {{todayDate | date:'MMM d, y'}} </small> </ion-list>
                    </ion-col>
                    <ion-col col-5>
                        <ion-list no-lines>Value <span> <i class="fa fa-rupee"></i>{{total_item_price}} </span>
                        </ion-list>
                        <ion-list no-lines>Savings <span> <i class="fa fa-rupee"></i>{{total_market_saving}} </span>
                        </ion-list>
                        <ion-list no-lines>Item <span> {{customer_cart_data.length}} </span> </ion-list>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>
        <div class="cart-body">
            <div class="page-tab">
                <ion-grid>
                    <ion-row>
                        <ion-col col-3>
                            <button class="active"></button>
                        </ion-col>
                        <ion-col col-3>
                            <button></button>
                        </ion-col>
                        <ion-col col-3>
                            <button></button>
                        </ion-col>
                        <ion-col col-3>
                            <button></button>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </div>
            <ion-card *ngFor="let allCart of customer_cart_data; let i = index">
                <ion-card-content>
                    <i class="fa fa-trash remove-cart" aria-hidden="true" (click)="removeCart(allCart.product_id)"></i>
                    <ion-grid>
                        <ion-row>
                            <ion-col col-6>
                                <ion-list no-lines class="product-name">{{allCart.product_name}}</ion-list>
                                <ion-list style="padding-left: 5px;">Rate : <i class="fa fa-rupee"></i>{{allCart.price}}
                                    /
                                    {{allCart.quantity_count}} {{allCart.unit}}</ion-list>
                                <div class="quantity" style="padding-left: 5px; padding-top: 20px;">
                                    <button class="quantity-btn" type="button" name="button" (click)="decrement(i)">
                                        <ion-icon name="remove"></ion-icon>
                                    </button>

                                    <span
                                        style="width: 20px; text-align: center; display:inline-block;">{{allCart.quantity}}</span>
                                    <button class="quantity-btn" type="button" name="button" (click)="increment(i)">
                                        <ion-icon name="add"></ion-icon>
                                    </button>
                                </div>
                            </ion-col>
                            <ion-col col-6>
                                <div class="product-image">
                                    <img
                                        [src]="allCart.image_small != ''? imageBaseUrl+ allCart.image_small : 'assets/imgs/no-image.png'">
                                    <button class="cart-pro-price" ion-button round><span><i class="fa fa-rupee"></i>
                                            {{allCart.totalOurPrice}} </span><small>Price</small></button>
                                    <button class="cart-pro-edit" ion-button round><span><i class="fa fa-rupee"></i>
                                            {{allCart.totalSavings}} </span><small>Savings</small></button>
                                </div>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card-content>
            </ion-card>
            <ion-card>
                <ion-grid>
                    <ion-row>
                        <ion-col col-12>
                            <p class="cart-bag-value">Bag Value: <i class="fa fa-rupee"></i>{{total_item_price}}</p>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col col-2></ion-col>
                        <ion-col col-4>
                            <div class="btn-round btn-submit" (click)="gotoPage()"><a>Proceed</a></div>
                        </ion-col>
                        <ion-col col-4>
                            <div class="btn-round btn-back" (click)="goback()"><a>Back</a></div>
                        </ion-col>
                        <ion-col col-2></ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card>
        </div>
    </div>
    <div *ngIf="customer_cart_data.length==0">
        <img src="assets/imgs/no-records.png">
    </div>
</ion-content>